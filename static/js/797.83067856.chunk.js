"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[797],{828:function(e,t,r){r.d(t,{$h:function(){return n},Mm:function(){return c},_n:function(){return a}});var n="c22cf15536964c1cf38cb65c76fb41a1",a="https://api.themoviedb.org/3/",c="<https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700>"},797:function(e,t,r){r.r(t);var n=r(861),a=r(439),c=r(757),s=r.n(c),i=r(791),u=r(243),l=r(87),o=r(689),h=r(692),f=r(52),p=r(828),d=r(184);t.default=function(){var e=(0,l.lr)(),t=(0,a.Z)(e,2),r=t[0],c=t[1],m=(0,i.useState)(null),v=(0,a.Z)(m,2),x=v[0],g=v[1],b=(0,i.useState)(!1),j=(0,a.Z)(b,2),_=j[0],y=j[1],S=(0,i.useState)(null),k=(0,a.Z)(S,2),Z=k[0],w=k[1],q=(0,o.TH)();console.log(q);var N=r.get("query");return(0,i.useEffect)((function(){if(N){var e=function(){var e=(0,n.Z)(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),w(null),e.next=5,u.Z.get("https://api.themoviedb.org/3/search/movie?include_adult=false&language=en-US&page=1&query=".concat(N,"&api_key=").concat(p.$h));case 5:t=e.sent,r=t.data,g(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),w(e.t0.message);case 13:return e.prev=13,y(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(){return e.apply(this,arguments)}}();e()}}),[N]),(0,d.jsxs)(h.R,{children:[(0,d.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.searchKey.value;c({query:t})},children:[(0,d.jsx)("label",{children:(0,d.jsx)("input",{type:"text",required:!0,placeholder:"Search movies",name:"searchKey"})}),(0,d.jsx)("button",{type:"submit",className:"SearchFormButton"})]}),_&&(0,d.jsx)(f.Z,{}),Z&&(0,d.jsxs)("p",{className:"error",children:["Error: ",Z]}),x&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{children:"Search Results"}),(0,d.jsx)("ul",{children:x.results.map((function(e){return(0,d.jsx)("li",{children:(0,d.jsx)(l.rU,{state:{form:q},to:"/movies/".concat(e.id),children:e.original_title})},e.id)}))})]})]})}}}]);
//# sourceMappingURL=797.83067856.chunk.js.map