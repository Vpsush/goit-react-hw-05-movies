"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[355],{828:function(n,e,r){r.d(e,{$h:function(){return t},Mm:function(){return c},_n:function(){return a}});var t="c22cf15536964c1cf38cb65c76fb41a1",a="https://api.themoviedb.org/3/",c="https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700"},898:function(n,e,r){r.d(e,{gZ:function(){return p},l2:function(){return f},oO:function(){return s},qF:function(){return l},wL:function(){return o}});var t=r(861),a=r(757),c=r.n(a),u=r(243),i=r(828),o=function(){var n=(0,t.Z)(c().mark((function n(e){var r,t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.Z.get("".concat(i._n,"movie/").concat(e,"/credits?api_key=").concat(i.$h));case 2:return r=n.sent,t=r.data,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),s=function(){var n=(0,t.Z)(c().mark((function n(e){var r,t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.Z.get("".concat(i._n,"/movie/").concat(e,"/reviews?api_key=").concat(i.$h,"&language=en-US&page=1"));case 2:return r=n.sent,t=r.data,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=function(){var n=(0,t.Z)(c().mark((function n(){var e,r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.Z.get("".concat(i._n,"/trending/movie/day?language=en-US&api_key=").concat(i.$h));case 2:return e=n.sent,r=e.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),f=function(){var n=(0,t.Z)(c().mark((function n(e){var r,t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.Z.get("".concat(i._n,"/movie/").concat(e,"?language=en-US&api_key=").concat(i.$h));case 2:return r=n.sent,t=r.data,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,t.Z)(c().mark((function n(e){var r,t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.Z.get("".concat(i._n,"/search/movie?include_adult=false&language=en-US&page=1&query=").concat(e,"&api_key=").concat(i.$h));case 2:return r=n.sent,t=r.data,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},355:function(n,e,r){r.r(e),r.d(e,{default:function(){return x}});var t,a=r(861),c=r(439),u=r(757),i=r.n(u),o=r(791),s=r(87),p=r(689),f=r(168),l=r(867).ZP.div(t||(t=(0,f.Z)(["\n  max-width: 1200px;\n  width: 100%;\n  margin: 0 auto;\n  padding: 0 15px;\n\n  .error {\n    padding: 25px;\n    border: 1px solid blue;\n    background-color: orange;\n    margin-bottom: 20px;\n    font-size: 20px;\n  }\n\n  .SearchForm {\n    display: flex;\n    align-items: center;\n    width: 100%;\n    max-width: 600px;\n    background-color: #fff;\n    border-radius: 3px;\n    overflow: hidden;\n  }\n  .SearchFormButton {\n    width: 20px;\n    height: 20px;\n    cursor: pointer;\n    outline: none;\n  }\n"]))),h=r(219),d=r(898),v=r(184),x=function(){var n=(0,s.lr)(),e=(0,c.Z)(n,2),r=e[0],t=e[1],u=(0,o.useState)(null),f=(0,c.Z)(u,2),x=f[0],m=f[1],g=(0,o.useState)(!1),w=(0,c.Z)(g,2),b=w[0],y=w[1],_=(0,o.useState)(null),Z=(0,c.Z)(_,2),k=Z[0],S=Z[1],j=(0,p.TH)(),q=r.get("query"),F=function(){var n=(0,a.Z)(i().mark((function n(e){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault(),r=e.currentTarget.elements.searchKey.value,t({query:r});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,o.useEffect)((function(){if(q){var n=function(){var n=(0,a.Z)(i().mark((function n(){var e;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,y(!0),S(null),n.next=5,(0,d.qF)(q);case 5:e=n.sent,m(e),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),S(n.t0.message);case 12:return n.prev=12,y(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,9,12,15]])})));return function(){return n.apply(this,arguments)}}();n()}}),[q]),(0,v.jsxs)(l,{children:[(0,v.jsxs)("form",{className:"SearchForm",onSubmit:F,children:[(0,v.jsx)("label",{children:(0,v.jsx)("input",{type:"text",required:!0,placeholder:"Search movies",name:"searchKey"})}),(0,v.jsx)("button",{type:"submit",className:"SearchFormButton"})]}),b&&(0,v.jsx)(h.Z,{}),k&&(0,v.jsxs)("p",{className:"error",children:["Error: ",k]}),x&&(0,v.jsxs)("div",{children:[(0,v.jsx)("h1",{children:"Search Results"}),(0,v.jsx)("ul",{children:x.results.map((function(n){return(0,v.jsx)("li",{children:(0,v.jsx)(s.rU,{to:"/movies/".concat(n.id),state:{from:j},children:n.original_title})},n.id)}))})]})]})}}}]);
//# sourceMappingURL=355.8b007ace.chunk.js.map