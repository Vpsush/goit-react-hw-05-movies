"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[450,186,247,251],{828:function(e,n,t){t.d(n,{$h:function(){return r},Mm:function(){return i},_n:function(){return s}});var r="c22cf15536964c1cf38cb65c76fb41a1",s="https://api.themoviedb.org/3/",i="<https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700>"},247:function(e,n,t){t.r(n);var r=t(861),s=t(439),i=t(757),a=t.n(i),c=t(791),o=t(243),l=t(689),u=t(828),d=t(184);n.default=function(){var e=(0,l.UO)().movieId,n=(0,c.useState)([]),t=(0,s.Z)(n,2),i=t[0],h=t[1],v=(0,c.useState)(!0),f=(0,s.Z)(v,2),p=f[0],x=f[1],m=(0,c.useState)(null),j=(0,s.Z)(m,2),g=j[0],Z=j[1];return(0,c.useEffect)((function(){var n=function(){var n=(0,r.Z)(a().mark((function n(){var t,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.Z.get("".concat(u._n,"movie/").concat(e,"/credits?api_key=").concat(u.$h));case 3:t=n.sent,r=t.data,h(r.cast),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),Z(n.t0.message);case 11:return n.prev=11,x(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])})));return function(){return n.apply(this,arguments)}}();n()}),[e]),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:"Cast"}),p&&(0,d.jsx)("p",{children:"Loading..."}),g&&(0,d.jsxs)("p",{children:["Error: ",g]}),i.map((function(e){var n=e.actor,t=e.profile_path;return(0,d.jsxs)("div",{children:[(0,d.jsx)("img",{src:"".concat(t?u._n+t:u.Mm),alt:"".concat(n.name," portrait")}),(0,d.jsx)("p",{children:n.name}),(0,d.jsxs)("p",{children:["Character: ",n.character]})]},n.id)}))]})}},186:function(e,n,t){t.r(n);var r=t(861),s=t(439),i=t(757),a=t.n(i),c=t(791),o=t(243),l=t(689),u=t(828),d=t(184);n.default=function(){var e=(0,l.UO)().movieId,n=(0,c.useState)([]),t=(0,s.Z)(n,2),i=t[0],h=t[1],v=(0,c.useState)(!0),f=(0,s.Z)(v,2),p=f[0],x=f[1],m=(0,c.useState)(null),j=(0,s.Z)(m,2),g=j[0],Z=j[1];return(0,c.useEffect)((function(){var n=function(){var n=(0,r.Z)(a().mark((function n(){var t,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.Z.get("".concat(u._n,"/movie/").concat(e,"/reviews?api_key=").concat(u.$h));case 3:t=n.sent,r=t.data,h(r.results),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),Z(n.t0.message);case 11:return n.prev=11,x(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])})));return function(){return n.apply(this,arguments)}}();n()}),[e]),0===i.length?(0,d.jsx)("h3",{children:"No Reviews."}):(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:"Reviews"}),p&&(0,d.jsx)("p",{children:"Loading..."}),g&&(0,d.jsxs)("p",{children:["Error: ",g]}),i.map((function(e){return(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{children:e.author}),(0,d.jsx)("p",{children:e.content})]},e.id)}))]})}},450:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var r=t(861),s=t(671),i=t(144),a=t(136),c=t(104),o=t(757),l=t.n(o),u=t(791),d=t(243),h=t(87),v=t(184),f="c22cf15536964c1cf38cb65c76fb41a1";d.Z.defaults.baseURL="https://api.themoviedb.org/3/";var p=function(e){(0,a.Z)(t,e);var n=(0,c.Z)(t);function t(){var e;(0,s.Z)(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return(e=n.call.apply(n,[this].concat(a))).state={movies:[],isLoading:!1,error:null},e.fetchMovies=(0,r.Z)(l().mark((function n(){var t,r;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e.setState({isLoading:!0}),n.next=4,d.Z.get("trending/movie/day?language=en-US&api_key=".concat(f));case 4:t=n.sent,r=t.data,e.setState({movies:r.results}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),e.setState({error:n.t0.message});case 12:return n.prev=12,e.setState({isLoading:!1}),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,9,12,15]])}))),e}return(0,i.Z)(t,[{key:"componentDidMount",value:function(){this.fetchMovies()}},{key:"render",value:function(){var e=this.state,n=e.movies,t=e.isLoading,r=e.error;return(0,v.jsxs)("div",{children:[(0,v.jsx)("h1",{className:"titleToday",children:"Trending today"}),t&&(0,v.jsx)("p",{children:"Loading..."}),r&&(0,v.jsxs)("p",{children:["Error: ",r]}),n&&(0,v.jsx)("ul",{children:n.map((function(e){return(0,v.jsx)("li",{children:(0,v.jsx)(h.rU,{to:"/movies/".concat(e.id),children:e.original_title})},e.id)}))})]})}}]),t}(u.Component),x=t(689),m=t(251),j=function(){return(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{children:(0,v.jsx)(h.OL,{to:"movies/:movieId",children:(0,v.jsx)(p,{})})}),(0,v.jsx)(x.Z5,{children:(0,v.jsx)(x.AW,{path:"movies/:movieId",element:(0,v.jsx)(m.default,{})})})]})}},251:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var r=t(861),s=t(439),i=t(757),a=t.n(i),c=t(791),o=t(243),l=t(689),u=t(87),d=t(52),h=t(692),v=t(247),f=t(186),p=t(184),x=function(){var e=(0,l.UO)().movieId;return(0,p.jsxs)(h.R,{children:[(0,p.jsxs)("div",{className:"additionalTitle",children:[(0,p.jsx)("h3",{children:"Additional information"}),(0,p.jsx)(u.OL,{className:"header-link",to:"/movies/".concat(e,"/cast"),children:"Cast"}),(0,p.jsx)(u.OL,{className:"header-link",to:"/movies/".concat(e,"/reviews"),children:"Reviews"})]}),(0,p.jsxs)(l.Z5,{children:[(0,p.jsx)(l.AW,{path:"cast",element:(0,p.jsx)(v.default,{})}),(0,p.jsx)(l.AW,{path:"reviews",element:(0,p.jsx)(f.default,{})})]})]})},m=t(828),j=function(){var e,n,t,i=(0,l.UO)().movieId,h=(0,c.useState)(null),v=(0,s.Z)(h,2),f=v[0],j=v[1],g=(0,c.useState)(!1),Z=(0,s.Z)(g,2),w=Z[0],_=Z[1],k=(0,c.useState)(null),b=(0,s.Z)(k,2),S=b[0],y=b[1],L=(0,l.TH)();console.log("from",L);var U=(0,c.useRef)(null!==(e=null===(n=L.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/");return(0,c.useEffect)((function(){var e=function(){var e=(0,r.Z)(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(!0),e.next=4,o.Z.get("".concat(m._n,"/movie/").concat(i,"?language=en-US&api_key=").concat(m.$h));case 4:n=e.sent,t=n.data,j(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),y(e.t0.message);case 12:return e.prev=12,_(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[i,_,j]),(0,p.jsxs)("div",{children:[(0,p.jsx)(u.rU,{to:U.current,children:"Go back"}),null!==S&&(0,p.jsx)("p",{className:"error-bage",children:S}),w&&(0,p.jsx)(d.Z,{}),null!==f&&(0,p.jsxs)("div",{className:"info",children:[(0,p.jsx)("div",{children:(0,p.jsx)("img",{src:f.poster_path?"https://image.tmdb.org/t/p/w200/".concat(f.poster_path):m.Mm,alt:f.title})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{children:f.title}),(0,p.jsxs)("p",{children:["Rating: ",Math.round(f.vote_average)]}),(0,p.jsx)("h2",{children:"Overview"}),(0,p.jsx)("p",{children:f.overview}),(0,p.jsx)("h2",{children:"Genres"}),(0,p.jsx)("p",{children:null===(t=f.genres)||void 0===t?void 0:t.map((function(e){return(0,p.jsx)("li",{children:e.name},e.id)}))})]})]}),(0,p.jsx)(x,{})]})}}}]);
//# sourceMappingURL=450.0928d1f1.chunk.js.map